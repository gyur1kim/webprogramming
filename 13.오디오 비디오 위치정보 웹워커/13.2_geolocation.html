<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="msg">이 곳에 위치 정보 출력</div>
<div id="map"></div>

<script>
    if(!navigator.geolocation){
        alert("현재 위치 서비스를 지원하지 않는 브라우저입니다.");
    }
    else{
        navigator.geolocation.getCurrentPosition(found);
    }

    function found(position){
        let now = new Date(position.timestamp);
        let lat = position.coords.latitude;
        let lon = position.coords.longitude;
        let acc = position.coords.accuracy;

        lat = lat.toPrecision(6);
        lon = lon.toPrecision(6);
        let text = "현재 시간 " + now.toUTCString() + "<br>";
        text += "현재 위치 (위도 " + lat + ", 경도 " + lon + ")<br>";
        text += "정확도 " + acc + "m<br>";

        document.getElementById("msg").innerHTML = text;

        let img = new Image();
        img.src = "https://maps.googleapis.com/maps/api/staticmap?center=" + lat + "," + lon + "&zoom=13&size=400x300&sensor=false&markers-color:red%7Clabel:C%7C" + lat + "," + lon;
        document.getElementById("map").appendChild(img);
    }
</script>
</body>
</html>